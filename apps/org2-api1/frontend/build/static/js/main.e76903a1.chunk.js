(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],Array(23).concat([function(e,a,t){e.exports=t(71)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,,,,,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(8),o=t.n(c),r=t(72),i=t(5),s=(t(28),t(29),t(1));t(30),t(31);var u=function(e){var a=Object(n.useState)(!0),t=Object(s.a)(a,2),c=t[0],o=t[1],r=Object(n.useRef)(),i=Object(n.useRef)();return l.a.createElement("div",{className:"header"},l.a.createElement("label",{className:"labelHeader"},"Buscar por:"),l.a.createElement("select",{className:"selectIdentificador",ref:r,onChange:function(){"SKU"===r.current.value?(e.setTipo("sku"),o(!1)):"UPC"===r.current.value?(e.setTipo("upc"),o(!0)):(e.setTipo("id"),o(!0))}},l.a.createElement("option",{className:"optionBusqueda",value:"ID TRU"},"ID TRU"),l.a.createElement("option",{value:"SKU"},"SKU"),l.a.createElement("option",{value:"UPC"},"UPC")),l.a.createElement("select",{className:"selectActor",ref:i,disabled:c},l.a.createElement("option",null,"Propilco"),l.a.createElement("option",null,"Cartoflex"),l.a.createElement("option",null,"Transportador"),l.a.createElement("option",null,"Canvan")),l.a.createElement("input",{type:"text",placeholder:"Identificador del activo",className:"inputBuscar",ref:e.inputRef}),l.a.createElement("div",{className:"contenedorBotones"},l.a.createElement("button",{className:"boton",onClick:function(){""!==e.inputRef.current.value?(e.setBuscado(e.inputRef.current.value),e.setActor(i.current.value),e.setConsulta("origen"),e.setMachete(!e.machete)):(e.setBuscado(void 0),e.setConsulta(""))}},"Consultar Procedencia"),l.a.createElement("button",{className:"boton",onClick:function(){""!==e.inputRef.current.value?(e.setBuscado(e.inputRef.current.value),e.setActor(i.current.value),e.setConsulta("destino"),e.setMachete(!e.machete)):(e.setBuscado(void 0),e.setConsulta(""))}},"Rastrear Activo")))};t(32);var d=function(){return l.a.createElement("div",{className:"contenedorInstrucciones"},l.a.createElement("h1",null,"Bienvenido al Sistema de Seguimiento Blockchain"),l.a.createElement("br",null),l.a.createElement("div",{className:"contenedorPasos"},l.a.createElement("h3",null,"Para consultar un activo de la cadena de suministro siga los siguientes pasos:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Escoga el metodo de busqueda del activo (ID, SKU, o UPC)"),l.a.createElement("li",null,"Si escogio SKU, escoja el actor que expidi\xf3 el SKU"),l.a.createElement("li",null,"Ingrese el identificador \xfanico del activo que desea consultar"),l.a.createElement("li",null,"Oprima el boton correspondiente a la consulta que desea realizar"),l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("b",null,"Consultar Procedencia:")," Esta consulta muestra el historial de todo lo que pas\xf3 en la cadena de suministro para lograr producir el activo que consult\xf3"),l.a.createElement("li",null,l.a.createElement("b",null,"Rastrear activo:")," Esta consulta muestra todo lo que paso con un activo desde que fue registrado con el identificador unico")))))};t(33),t(34),t(35),t(36),t(37),t(38),t(39);var m=function e(a){var t=Object(n.useState)(void 0),c=Object(s.a)(t,2),o=c[0],r=c[1],i=Object(n.useState)([]),u=Object(s.a)(i,2),d=u[0],m=u[1],v=Object(n.useState)(l.a.createElement("div",null)),E=Object(s.a)(v,2),b=E[0],f=E[1],p=Object(n.useState)(l.a.createElement("div",null)),g=Object(s.a)(p,2),N=g[0],h=g[1],C=function(e){var a=document.getElementById(e.id),t=null===a||void 0===a?void 0:a.parentElement.parentElement.parentElement,n=null===t||void 0===t?void 0:t.getBoundingClientRect().left;return(null===a||void 0===a?void 0:a.getBoundingClientRect().left)+12-n},j=function(){var e=null===o||void 0===o?void 0:o.produce.map((function(e,t){var n;return l.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:C(e),y2:"50",style:{stroke:a.colores[(null===e||void 0===e||null===(n=e.transacciones[0])||void 0===n?void 0:n.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)]}})}));f(e)},y=function(){var e=a.grupo.map((function(e,t){return l.a.createElement("line",{key:t,className:"linea",x1:C(e),y1:"0",x2:"50%",y2:"50",style:{stroke:a.colores[null===o||void 0===o?void 0:o.actor]}})}));h(e)},O=function(){a.handleactualizar({}),j(),y()};return Object(n.useEffect)((function(){var e=a.actividades.find((function(e){return e.id===a.grupo[0].consumidoPor})),t={};for(var n in null===e||void 0===e?void 0:e.produce){var l=null===e||void 0===e?void 0:e.produce[n],c=l.consumidoPor||l.id;t[c]?t[c].push(l):t[c]=[l]}m(Object.values(t)),r(e)}),[]),Object(n.useEffect)((function(){a.handleactualizar({}),j(),y()}),[d]),l.a.createElement("div",{className:"contenedorGrupo"},a.grupo.map((function(e){var t,n;return l.a.createElement("div",{className:"contenedorTru"},l.a.createElement("div",{className:"tru",id:e.id,style:{backgroundColor:a.coloresClaros[(null===e||void 0===e||null===(t=e.transacciones[0])||void 0===t?void 0:t.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)],borderColor:a.colores[(null===e||void 0===e||null===(n=e.transacciones[0])||void 0===n?void 0:n.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)]},onClick:function(){return a.selectTru(e)}}),null===e||void 0===e?void 0:e.transacciones.map((function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{className:"lineasCortas"},l.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:a.colores[e.fuente]}})),l.a.createElement("div",{className:"transaccion",onClick:function(){return a.selectTransaccion(e)}}))})))})),o&&l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{className:"lineas"},N),l.a.createElement("div",{id:o.id,className:"actividad",style:{backgroundColor:a.coloresClaros[null===o||void 0===o?void 0:o.actor],borderColor:a.colores[null===o||void 0===o?void 0:o.actor]},onClick:function(){return a.selectActividad(o)}},o.tipo),l.a.createElement("svg",{className:"lineas"},b)),l.a.createElement("div",{className:"contenedorGrupos"},d.map((function(t){return l.a.createElement(e,{grupo:t,handleactualizar:O,actividades:a.actividades,colores:a.colores,coloresClaros:a.coloresClaros,selectTru:a.selectTru,selectActividad:a.selectActividad,selectTransaccion:a.selectTransaccion})}))))};var v=function(e){var a,t,c,o,r,i,u,d=Object(n.useState)(!0),v=Object(s.a)(d,2),E=v[0],b=v[1],f=Object(n.useState)(void 0),p=Object(s.a)(f,2),g=p[0],N=p[1],h=Object(n.useState)([]),C=Object(s.a)(h,2),j=C[0],y=C[1],O=Object(n.useState)([]),T=Object(s.a)(O,2),A=T[0],k=T[1],S=Object(n.useState)(l.a.createElement("div",null)),D=Object(s.a)(S,2),P=D[0],x=D[1],B=Object(n.useState)(!1),F=Object(s.a)(B,2),I=F[0],R=F[1],z={Propilco:"rgb(255, 136, 1)",Cartoflex:"rgb(122, 182, 72)",Transportador:"rgb(128, 0, 255)",Canvan:"rgb(255, 128, 0)"},U={Propilco:"rgb(255, 136, 1, 0.2)",Cartoflex:"rgb(122, 182, 72, 0.2)",Transportador:"rgb(128, 0, 255, 0.2)",Canvan:"rgb(255, 128, 0, 0.2)"},w=function(e){var a;return(null===(a=document.getElementById(e.id))||void 0===a?void 0:a.getBoundingClientRect().left)+5},M=function(){var e,a=null===(e=j[0])||void 0===e?void 0:e.produce.map((function(e,a){var t;return l.a.createElement("line",{key:a,className:"linea",x1:"50%",y1:"0",x2:w(e),y2:"50",style:{stroke:z[null===(t=j[0])||void 0===t?void 0:t.actor]}})}));x(a)},K=function(){M()},q=function(){M(),R(!I)};return Object(n.useEffect)((function(){window.addEventListener("resize",K)})),Object(n.useEffect)((function(){fetch(e.consulta).then((function(e){e.json().then((function(e){if(e.error)b(!1);else{b(!0),e.actividades.reverse();var a={};for(var t in null===(n=e.actividades[0])||void 0===n?void 0:n.produce){var n,l,c=null===(l=e.actividades[0])||void 0===l?void 0:l.produce[t],o=c.consumidoPor||c.id;a[o]?a[o].push(c):a[o]=[c]}y(e.actividades),N(e.tru),k(Object.values(a))}}))}))}),[e.buscado]),l.a.createElement(l.a.Fragment,null,E&&l.a.createElement("div",{className:"contenedorMaximoViz"},l.a.createElement("div",{className:"contenedorBuscado"},l.a.createElement("div",{className:"buscado",style:{backgroundColor:U[(null===g||void 0===g||null===(a=g.transacciones[0])||void 0===a?void 0:a.fuente)||(null===g||void 0===g?void 0:g.due\u00f1oActual)],borderColor:z[(null===g||void 0===g||null===(t=g.transacciones[0])||void 0===t?void 0:t.fuente)||(null===g||void 0===g?void 0:g.due\u00f1oActual)]},onClick:function(){return e.selectTru(g)}})),((null===g||void 0===g?void 0:g.transacciones.length)>0||(null===j||void 0===j?void 0:j.length)>0)&&l.a.createElement("svg",{className:"lineas"},l.a.createElement("line",{className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:z[(null===g||void 0===g||null===(c=g.transacciones[0])||void 0===c?void 0:c.fuente)||(null===g||void 0===g?void 0:g.due\u00f1oActual)]}})),null===g||void 0===g?void 0:g.transacciones.map((function(a,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"transaccionBase",onClick:function(){return e.selectTransaccion(a)}}),j.length>0&&l.a.createElement("svg",{className:"lineasCortas"},l.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:z[a.destino]}})))})),j.length>0&&l.a.createElement("div",{className:"firstActivity",id:null===(o=j[0])||void 0===o?void 0:o.id,style:{backgroundColor:U[null===(r=j[0])||void 0===r?void 0:r.actor],borderColor:z[null===(i=j[0])||void 0===i?void 0:i.actor]},onClick:function(){return e.selectActividad(j[0])}},null===(u=j[0])||void 0===u?void 0:u.tipo),l.a.createElement("svg",{className:"lineas"},P),l.a.createElement("div",{className:"contenedorGrupos"},l.a.createElement("div",{className:"contenedorPrimerGrupo"},A.map((function(a){return l.a.createElement(m,{grupo:a,actualizar:I,handleactualizar:q,actividades:j,colores:z,coloresClaros:U,selectTru:e.selectTru,selectActividad:e.selectActividad,selectTransaccion:e.selectTransaccion})}))))),!E&&l.a.createElement("div",{className:"contenedorInstrucciones"},l.a.createElement("h2",null,"No se encontro el activo"),l.a.createElement("h3",null,"Porfavor revise el identificador y vuelva a intentar")))};t(40),t(41),t(42),t(43),t(44);var E=function e(a){var t=Object(n.useState)(void 0),c=Object(s.a)(t,2),o=c[0],r=c[1],i=Object(n.useState)(void 0),u=Object(s.a)(i,2),d=u[0],m=u[1],v=Object(n.useState)([]),E=Object(s.a)(v,2),b=E[0],f=E[1],p=Object(n.useState)(l.a.createElement("div",null)),g=Object(s.a)(p,2),N=g[0],h=g[1],C=Object(n.useState)(l.a.createElement("div",null)),j=Object(s.a)(C,2),y=j[0],O=j[1],T=function(e){var t=document.getElementById(e.id),n=null===t||void 0===t?void 0:t.parentElement.parentElement.parentElement,l=null===n||void 0===n?void 0:n.getBoundingClientRect().left,c=(null===t||void 0===t?void 0:t.getBoundingClientRect().left)+12-l;return a.buscado.id.includes("47b2c630-7422-11ea-9dba-a31d6f3c8f24")&&(c=(null===t||void 0===t?void 0:t.getBoundingClientRect().left)+92.5-l),c},A=function(){var e=null===d||void 0===d?void 0:d.consume.map((function(e,t){var n;return l.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:T(e),y2:"50",style:{stroke:a.colores[(null===e||void 0===e||null===(n=e.transacciones[0])||void 0===n?void 0:n.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)]}})}));h(e)},k=function(){var e=a.actividades.find((function(e,t){return e.id===a.grupo[0].consumidoPor})),t=a.grupo.map((function(t,n){return l.a.createElement("line",{key:n,className:"linea",x1:T(t),y1:"0",x2:"50%",y2:"50",style:{stroke:a.colores[null===e||void 0===e?void 0:e.actor]}})}));O(t)},S=function(){a.handleactualizar({}),A(),k()};return Object(n.useEffect)((function(){var e=0,t=a.actividades.find((function(t,n){return e=n,t.id===a.grupo[0].consumidoPor})),n=a.actividades[e+1];if(n){var l={};for(var c in null===n||void 0===n?void 0:n.consume){var o=null===n||void 0===n?void 0:n.consume[c],i=o.consumidoPor||o.id;l[i]?l[i].push(o):l[i]=[o]}f(Object.values(l))}m(n),r(t)}),[]),Object(n.useEffect)((function(){a.handleactualizar({}),A(),k()}),[b]),l.a.createElement("div",{className:"contenedorGrupo"},a.grupo.map((function(e){var t,n;return l.a.createElement("div",{className:"contenedorTru"},l.a.createElement("div",{className:"tru",id:e.id,style:{backgroundColor:a.coloresClaros[(null===e||void 0===e||null===(t=e.transacciones[0])||void 0===t?void 0:t.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)],borderColor:a.colores[(null===e||void 0===e||null===(n=e.transacciones[0])||void 0===n?void 0:n.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)]},onClick:function(){return a.selectTru(e)}}),null===e||void 0===e?void 0:e.transacciones.map((function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{className:"lineasCortas"},l.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:a.colores[e.fuente]}})),l.a.createElement("div",{className:"transaccion",onClick:function(){return a.selectTransaccion(e)}}))})))})),o&&l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{className:"lineas"},y),l.a.createElement("div",{id:o.id,className:"actividad",style:{backgroundColor:a.coloresClaros[null===o||void 0===o?void 0:o.actor],borderColor:a.colores[null===o||void 0===o?void 0:o.actor]},onClick:function(){return a.selectActividad(o)}},o.tipo),d&&l.a.createElement("svg",{className:"lineas"},N)),l.a.createElement("div",{className:"contenedorGrupos"},b.map((function(t){return l.a.createElement(e,{buscado:a.buscado,grupo:t,handleactualizar:S,actividades:a.actividades,colores:a.colores,coloresClaros:a.coloresClaros,selectTru:a.selectTru,selectActividad:a.selectActividad,selectTransaccion:a.selectTransaccion})}))))};t(45);var b=function(e){var a,t,c,o,r,i,u,d,m=Object(n.useState)(!0),v=Object(s.a)(m,2),b=v[0],f=v[1],p=Object(n.useState)(void 0),g=Object(s.a)(p,2),N=g[0],h=g[1],C=Object(n.useState)([]),j=Object(s.a)(C,2),y=j[0],O=j[1],T=Object(n.useState)([]),A=Object(s.a)(T,2),k=A[0],S=A[1],D=Object(n.useState)(l.a.createElement("div",null)),P=Object(s.a)(D,2),x=P[0],B=P[1],F=Object(n.useState)(!1),I=Object(s.a)(F,2),R=I[0],z=(I[1],{Propilco:"rgb(255, 136, 1)",Cartoflex:"rgb(122, 182, 72)",Transportador:"rgb(128, 0, 255)",Canvan:"rgb(255, 128, 0)"}),U={Propilco:"rgb(255, 136, 1, 0.2)",Cartoflex:"rgb(122, 182, 72, 0.2)",Transportador:"rgb(128, 0, 255, 0.2)",Canvan:"rgb(255, 128, 0, 0.2)"},w=function(e){var a;return(null===(a=document.getElementById(e.id))||void 0===a?void 0:a.getBoundingClientRect().left)+5},M=function(){var e,a=null===(e=y[1])||void 0===e?void 0:e.consume.map((function(e,a){var t;return l.a.createElement("line",{key:a,className:"linea",x1:"50%",y1:"0",x2:w(e),y2:"50",style:{stroke:z[null===(t=y[0])||void 0===t?void 0:t.actor]}})}));B(a)},K=function(){M()},q=function(){M()};return Object(n.useEffect)((function(){fetch(e.consulta).then((function(e){e.json().then((function(e){if(e.error)f(!1);else{f(!0);var a={};for(var t in null===(n=e.actividades[1])||void 0===n?void 0:n.consume){var n,l,c=null===(l=e.actividades[1])||void 0===l?void 0:l.consume[t],o=c.consumidoPor||c.id;a[o]?a[o].push(c):a[o]=[c]}O(e.actividades),h(e.tru),S(Object.values(a))}}))}))}),[e.buscado]),Object(n.useEffect)((function(){window.addEventListener("resize",K)})),Object(n.useEffect)((function(){document.getElementById("contenedorViz").scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"})}),[x]),l.a.createElement(l.a.Fragment,null,b&&l.a.createElement("div",{className:"contenedorMaximoViz"},l.a.createElement("div",{className:"firstActivity",id:null===(a=y[0])||void 0===a?void 0:a.id,style:{backgroundColor:U[null===(t=y[0])||void 0===t?void 0:t.actor],borderColor:z[null===(c=y[0])||void 0===c?void 0:c.actor]},onClick:function(){return e.selectActividad(y[0])}},null===(o=y[0])||void 0===o?void 0:o.tipo),y.length>1&&l.a.createElement("svg",{className:"lineas"},x),l.a.createElement("div",{className:"contenedorGrupos"},l.a.createElement("div",{className:"contenedorPrimerGrupo"},k.map((function(a){return l.a.createElement(E,{buscado:N,grupo:a,actualizar:R,handleactualizar:q,actividades:y,colores:z,coloresClaros:U,selectTru:e.selectTru,selectActividad:e.selectActividad,selectTransaccion:e.selectTransaccion})})))),l.a.createElement("svg",{className:"lineas lineaFinal"},l.a.createElement("line",{className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:z[(null===N||void 0===N||null===(r=N.transacciones[0])||void 0===r?void 0:r.fuente)||(null===N||void 0===N?void 0:N.due\u00f1oActual)]}})),l.a.createElement("div",{className:"buscado",id:null===N||void 0===N?void 0:N.id,style:{backgroundColor:U[(null===N||void 0===N||null===(i=N.transacciones[0])||void 0===i?void 0:i.fuente)||(null===N||void 0===N?void 0:N.due\u00f1oActual)],borderColor:z[(null===N||void 0===N||null===(u=N.transacciones[0])||void 0===u?void 0:u.fuente)||(null===N||void 0===N?void 0:N.due\u00f1oActual)]},onClick:function(){return e.selectTru(N)}}),(null===N||void 0===N?void 0:N.transacciones.length)>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("svg",{className:"lineasCortas"},l.a.createElement("line",{className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:z[null===N||void 0===N||null===(d=N.transacciones[0])||void 0===d?void 0:d.fuente]}})),l.a.createElement("div",{className:"transaccion",onClick:function(){return e.selectTransaccion(null===N||void 0===N?void 0:N.transacciones[0])}}))),!b&&l.a.createElement("div",{className:"contenedorInstrucciones"},l.a.createElement("h2",null,"No se encontro el activo"),l.a.createElement("h3",null,"Porfavor revise el identificador y vuelva a intentar")))};var f=function(e){var a="";return"id"===e.tipo&&"origen"===e.consulta?a="/v1/api/trus/id/".concat(e.buscado,"/origen"):"id"===e.tipo&&"destino"===e.consulta?a="/v1/api/trus/id/".concat(e.buscado,"/destino"):"sku"===e.tipo&&"origen"===e.consulta?a="/v1/api/actores/".concat(e.actor,"/trus/").concat(e.buscado,"/origen"):"sku"===e.tipo&&"destino"===e.consulta?a="/v1/api/actores/".concat(e.actor,"/trus/").concat(e.buscado,"/destino"):"upc"===e.tipo&&"origen"===e.consulta?a="/v1/api/trus/upc/".concat(e.buscado,"/origen"):"upc"===e.tipo&&"destino"===e.consulta&&(a="/v1/api/trus/upc/".concat(e.buscado,"/destino")),l.a.createElement(l.a.Fragment,null,e.machete&&"destino"===e.consulta&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"tituloViz"},"Rastreo del activo: ",l.a.createElement("br",null)," ",e.buscado),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(v,{buscado:e.buscado,selectTru:e.selectTru,selectActividad:e.selectActividad,selectTransaccion:e.selectTransaccion,consulta:a})),!e.machete&&"destino"===e.consulta&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"tituloViz"},"Rastreo del activo: ",l.a.createElement("br",null)," ",e.buscado),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(v,{buscado:e.buscado,selectTru:e.selectTru,selectActividad:e.selectActividad,selectTransaccion:e.selectTransaccion,consulta:a})),e.machete&&"origen"===e.consulta&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"tituloViz"},"Procedencia del activo: ",l.a.createElement("br",null)," ",e.buscado),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b,{buscado:e.buscado,selectTru:e.selectTru,selectActividad:e.selectActividad,selectTransaccion:e.selectTransaccion,consulta:a})),!e.machete&&"origen"===e.consulta&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"tituloViz"},"Procedencia del activo: ",l.a.createElement("br",null)," ",e.buscado),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b,{buscado:e.buscado,selectTru:e.selectTru,selectActividad:e.selectActividad,selectTransaccion:e.selectTransaccion,consulta:a})))},p=(t(46),t(6));var g=Object(p.GoogleApiWrapper)({apiKey:"AIzaSyDiA9sL22y8i3MfkK4dAffbDrVocFwQQYw"})((function(e){return l.a.createElement("div",{className:"mapDetalle"},l.a.createElement(p.Map,{google:e.google,zoom:18,containerStyle:{position:"relative",width:"inherit",height:"inherit"},initialCenter:{lat:e.ubicacion.lat,lng:e.ubicacion.lon},center:{lat:e.ubicacion.lat,lng:e.ubicacion.lon}},l.a.createElement(p.Marker,{position:{lat:e.ubicacion.lat,lng:e.ubicacion.lon}})))}));var N=function(e){var a,t,n;return l.a.createElement("div",{className:"contenedorDetalle"},l.a.createElement("h3",{className:"tituloDetalle"},"Activo:"),l.a.createElement("h4",{className:"idDetalleTru"},e.tru.id),l.a.createElement("button",{className:"boton",onClick:function(){e.setBuscado(e.tru.id),e.setConsulta("origen"),e.updateInput(e.tru.id),e.setMachete(!e.machete)}},"Consultar Procedencia"),l.a.createElement("button",{className:"boton",onClick:function(){e.setBuscado(e.tru.id),e.setConsulta("destino"),e.updateInput(e.tru.id),e.setMachete(!e.machete)}},"Rastrear Activo"),e.tru.SKU&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},"SKU:"),l.a.createElement("p",{className:"valorDetalle"},e.tru.SKU)),e.tru.UPC&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},"UPC:"),l.a.createElement("p",{className:"valorDetalle"},e.tru.UPC)),l.a.createElement("h5",{className:"atributoDetalle"},"Consumido:"),l.a.createElement("p",{className:"valorDetalle"},e.tru.consumido?"S\xed":"No"),e.tru.consumido&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},"\xfaltimo due\xf1o:"),l.a.createElement("p",{className:"valorDetalle"},e.tru.due\u00f1oActual)),!e.tru.consumido&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},"due\xf1o Actual:"),l.a.createElement("p",{className:"valorDetalle"},null===(a=e.tru)||void 0===a?void 0:a.due\u00f1oActual)),Object.keys(e.tru.caracteristicas).filter((function(e){return"imagenes"!==e&&"videos"!==e})).map((function(a){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},a,":"),l.a.createElement("p",{className:"valorDetalle"},e.tru.caracteristicas[a]))})),null===(t=e.tru.caracteristicas.imagenes)||void 0===t?void 0:t.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},e[0],":"),l.a.createElement("img",{className:"imagenDetalle",src:e[1]}))})),null===(n=e.tru.caracteristicas.videos)||void 0===n?void 0:n.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},e[0],":"),l.a.createElement("iframe",{className:"videoDetalle",src:e[1]}))})),l.a.createElement("div",{className:"mapDetalle"},l.a.createElement("h5",{className:"atributoDetalle"},"Ubicaci\xf3n:"),l.a.createElement(g,{ubicacion:e.tru.ubicacion})))};var h=Object(p.GoogleApiWrapper)({apiKey:"AIzaSyDiA9sL22y8i3MfkK4dAffbDrVocFwQQYw"})((function(e){return l.a.createElement("div",{className:"mapDetalle"},l.a.createElement(p.Map,{google:e.google,zoom:4,containerStyle:{position:"relative",width:"inherit",height:"inherit"},initialCenter:{lat:e.destino.lat,lng:e.destino.lon},center:{lat:e.destino.lat,lng:e.destino.lon}},l.a.createElement(p.Marker,{position:{lat:e.destino.lat,lng:e.destino.lon}}),l.a.createElement(p.Marker,{position:{lat:e.origen.lat,lng:e.origen.lon}})))}));var C=function(e){return l.a.createElement("div",{className:"contenedorDetalle"},l.a.createElement("h3",{className:"tituloDetalle"},"Actividad:"),l.a.createElement("h4",{className:"idDetalle"},e.actividad.id),l.a.createElement("h5",{className:"atributoDetalle"},"Tipo:"),l.a.createElement("p",{className:"valorDetalle"},e.actividad.tipo),l.a.createElement("h5",{className:"atributoDetalle"},"Realizada por:"),l.a.createElement("p",{className:"valorDetalle"},e.actividad.actor),l.a.createElement("h5",{className:"atributoDetalle"},"Fecha:"),l.a.createElement("p",{className:"valorDetalle"},e.actividad.fecha),e.actividad.consume.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},"Consumi\xf3 los activos:"),e.actividad.consume.map((function(e){return l.a.createElement("p",{className:"idTrus"},"- ",e.id)}))),e.actividad.produce.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"atributoDetalle"},"Produjo los activos:"),e.actividad.produce.map((function(e){return l.a.createElement("p",{className:"idTrus"},"- ",e.id)}))),"TRANSPORTAR"===e.actividad.tipo&&l.a.createElement("div",{className:"mapDetalle"},l.a.createElement("h5",{className:"atributoDetalle"},"Ubicaciones:"),l.a.createElement(h,{destino:e.actividad.destino,origen:e.actividad.consume[0].ubicacion})))};var j=function(e){return l.a.createElement("div",{className:"contenedorDetalle"},l.a.createElement("h3",{className:"tituloDetalle"},"Transacci\xf3n:"),l.a.createElement("h4",{className:"idDetalle"},e.transaccion.id),l.a.createElement("h5",{className:"atributoDetalle"},"Fuente:"),l.a.createElement("p",{className:"valorDetalle"},e.transaccion.fuente),l.a.createElement("h5",{className:"atributoDetalle"},"Destino:"),l.a.createElement("p",{className:"valorDetalle"},e.transaccion.destino),l.a.createElement("h5",{className:"atributoDetalle"},"Se transfirieron los activos:"),e.transaccion.trus.map((function(e){return l.a.createElement("p",{className:"idTrus"},"- ",e)})))};var y=function(e){return l.a.createElement("div",null,!e.tru&&!e.actividad&&!e.transaccion&&l.a.createElement("div",{className:"detalleNada"},"Seleccione un nodo para ver m\xe1s informaci\xf3n"),e.tru&&l.a.createElement(N,{tru:e.tru,setBuscado:e.setBuscado,setConsulta:e.setConsulta,updateInput:e.updateInput,machete:e.machete,setMachete:e.setMachete}),e.actividad&&l.a.createElement(C,{actividad:e.actividad}),e.transaccion&&l.a.createElement(j,{transaccion:e.transaccion}))};t(64);var O=function(){return l.a.createElement("div",{className:"contenedorConvensiones"},l.a.createElement("div",{className:"convencion"},l.a.createElement("div",{className:"contenedorFigura"},l.a.createElement("div",{className:"circulo"})),l.a.createElement("div",{className:"tituloConvension"},"Activos")),l.a.createElement("div",{className:"convencion"},l.a.createElement("div",{className:"contenedorFigura"},l.a.createElement("div",{className:"rectangulo"})),l.a.createElement("div",{className:"tituloConvension"},"Actividades")),l.a.createElement("div",{className:"convencion"},l.a.createElement("div",{className:"contenedorFigura"},l.a.createElement("div",{className:"rombo"})),l.a.createElement("div",{className:"tituloConvension"},"Transacciones")),l.a.createElement("div",{className:"convencion"},l.a.createElement("div",{className:"contenedorFigura"},l.a.createElement("div",{className:"propilco"})),l.a.createElement("div",{className:"tituloConvension"},"Propilco")),l.a.createElement("div",{className:"convencion"},l.a.createElement("div",{className:"contenedorFigura"},l.a.createElement("div",{className:"cartoflex"})),l.a.createElement("div",{className:"tituloConvension"},"Cartoflex")),l.a.createElement("div",{className:"convencion"},l.a.createElement("div",{className:"contenedorFigura"},l.a.createElement("div",{className:"transportador"})),l.a.createElement("div",{className:"tituloConvension"},"Transaportador")))};t(65);var T=function(){return l.a.createElement("div",{className:"contenedorFlecha"},l.a.createElement("div",{className:"textoEje"},"Antiguo"),l.a.createElement("div",{className:"tiempo"},"Tiempo"),l.a.createElement("div",{className:"lineaFlecha"}),l.a.createElement("div",{className:"flecha"}),l.a.createElement("div",{className:"textoEje"},"Reciente"))};var A=function(){var e=Object(n.useState)(void 0),a=Object(s.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)("id"),r=Object(s.a)(o,2),i=r[0],m=r[1],v=Object(n.useState)(""),E=Object(s.a)(v,2),b=E[0],p=E[1],g=Object(n.useState)(""),N=Object(s.a)(g,2),h=N[0],C=N[1],j=Object(n.useState)(void 0),A=Object(s.a)(j,2),k=A[0],S=A[1],D=Object(n.useState)(void 0),P=Object(s.a)(D,2),x=P[0],B=P[1],F=Object(n.useState)(void 0),I=Object(s.a)(F,2),R=I[0],z=I[1],U=Object(n.useState)(!1),w=Object(s.a)(U,2),M=w[0],K=w[1],q=Object(n.useRef)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,{setBuscado:c,setConsulta:C,inputRef:q,machete:M,setMachete:K,setTipo:m,setActor:p}),l.a.createElement("div",{className:"contenedor"},l.a.createElement("div",{id:"contenedorViz",className:"contenedorViz"},l.a.createElement("div",{className:"subContenedorViz"},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement(O,null),l.a.createElement(f,{buscado:t,consulta:h,selectTru:function(e){S(e),B(void 0),z(void 0)},selectActividad:function(e){S(void 0),B(e),z(void 0)},selectTransaccion:function(e){S(void 0),B(void 0),z(e)},machete:M,tipo:i,actor:b})),!t&&l.a.createElement(d,null))),l.a.createElement("div",{className:"contenedorMenu"},l.a.createElement(y,{tru:k,actividad:x,transaccion:R,setBuscado:c,setConsulta:C,updateInput:function(e){q.current.value=e},machete:M,setMachete:K}))))},k=(t(66),t(21)),S=t(11);t(67);var D=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(!1),r=Object(s.a)(o,2),i=r[0],u=r[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Agregue todos los TRUs que produjo durante la actividad que quiere reportar"),l.a.createElement("div",{className:"izquierdaPropilco"},t.map((function(e,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"lineaPropilco"}),l.a.createElement("br",null),l.a.createElement("label",null,"SKU: "),l.a.createElement("input",{id:"sku-"+a,className:"propilcoInput",type:"text"}),l.a.createElement("label",null,"Nombre Producto: "),l.a.createElement("input",{id:"nombre-"+a,className:"propilcoInput",type:"text"}),l.a.createElement("label",null,"Cantidad (Kg): "),l.a.createElement("input",{id:"cantidad-"+a,className:"propilcoInput",type:"number"}),l.a.createElement("label",null,"Indice de Fluides (%): "),l.a.createElement("input",{id:"indice-"+a,className:"propilcoInput",type:"number"}),l.a.createElement("br",null),l.a.createElement("br",null))})),l.a.createElement("button",{className:"agregarPropilco",onClick:function(){c([].concat(Object(S.a)(t),[{}]))},disabled:i},"Agregar TRU"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"crearActividad",onClick:function(){var e=[],a={},n=!0;for(var l in t)if(""!==document.getElementById("sku-"+l).value&&""!==document.getElementById("nombre-"+l).value&&""!==document.getElementById("cantidad-"+l).value&&""!==document.getElementById("indice-"+l).value){var o=Object(k.a)({},t[l]);o.SKU=document.getElementById("sku-"+l).value;var r={};r.nombre=document.getElementById("nombre-"+l).value,r.cantidad=document.getElementById("cantidad-"+l).value+"kg",r.indice=document.getElementById("indice-"+l).value,o.caracteristicas=r,console.log(o),e.push(o)}else n=!1;a.trus=e,n&&t.length>0?navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){a.ubicacion={lat:e.coords.latitude,lon:e.coords.longitude},a.actor="Propilco",u(!0),fetch("v1/api/actividad/producir",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){var a="Los IDs de los TRUs producidos son:".concat(e.trus_producidos.map((function(e){return" "+e})));console.log(a),alert(a),c([]),u(!1)}))}))})):(alert("Geolocation is not supported by this browser."),c([])):alert("La informaci\xf3n no es suficiente para crear una actividad")},disabled:i},"Crear Actividad")))};t(68);var P=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(!1),r=Object(s.a)(o,2),i=r[0],u=r[1];return l.a.createElement("div",null,l.a.createElement("h3",null,"Agregue el nombre del actor con el cual va a registrar la transaccion y los TRUs involucrados en la transacci\xf3n."),l.a.createElement("div",{className:"izquierdaPropilco"},l.a.createElement("label",null,"Destinatario: "),l.a.createElement("select",{id:"inputActor",name:"Actor"},l.a.createElement("option",{value:"Cartoflex"},"Cartoflex"),l.a.createElement("option",{value:"Transportador"},"Transportador")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"TRUs invlucrados:"),l.a.createElement("br",null),t.map((function(e,a){return l.a.createElement("input",{id:"TRU-"+a,type:"text",className:"propilcoInput"})})),l.a.createElement("button",{className:"agregarPropilco",onClick:function(){return c([].concat(Object(S.a)(t),[{}]))},disabled:i},"Agregar Tru"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"crearActividad",onClick:function(){var e={fuente:"Propilco",destino:document.getElementById("inputActor").value,fecha:(new Date).toISOString(),trus:[]},a=!0;for(var n in t){var l=document.getElementById("TRU-"+n).value;""!==l?e.trus.push(l):a=!1}a&&(u(!0),fetch("/v1/api/transaccion",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){e.error?alert(e.error.replace("error in simulation: transaction returned with failure: ","")):(console.log(e),alert(e.msg)),u(!1),c([])}))})))},disabled:i},"Crear Transacci\xf3n")))};var x=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1];return l.a.createElement("div",{className:"contenedorPropilco"},l.a.createElement("h1",null,"Registro de Produccion Propilco"),l.a.createElement("button",{className:"botonGris",onClick:function(){return c("actividad")}},"Crear Actividad"),l.a.createElement("button",{className:"botonGris",onClick:function(){return c("transaccion")}},"Crear Transaccion"),l.a.createElement("button",{className:"botonGris",onClick:function(){window.location="/visualization"}},"Visualizar Cadena"),"actividad"===t&&l.a.createElement(D,null),"transaccion"===t&&l.a.createElement(P,null))};var B=Object(r.d)((function(){return l.a.createElement(r.c,null,l.a.createElement(r.a,{exact:!0,path:"/",render:function(){return l.a.createElement(x,null)}}),l.a.createElement(r.a,{exact:!0,path:"/visualization",render:function(){return l.a.createElement(A,null)}}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=Object(i.a)();o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(r.b,{history:F},l.a.createElement(B,{history:F}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[23,1,2]]]);
//# sourceMappingURL=main.e76903a1.chunk.js.map