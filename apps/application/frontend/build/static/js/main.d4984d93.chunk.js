(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(3),r=n.n(l),c=(n(9),n(10),n(1));n(11),n(12),n(13),n(14),n(15),n(16);var i=function e(t){var n=Object(a.useState)(void 0),l=Object(c.a)(n,2),r=l[0],i=l[1],u=Object(a.useState)([]),s=Object(c.a)(u,2),d=s[0],v=s[1],m=Object(a.useState)(o.a.createElement("div",null)),f=Object(c.a)(m,2),E=f[0],b=f[1],p=Object(a.useState)(o.a.createElement("div",null)),g=Object(c.a)(p,2),y=g[0],j=g[1],N=function(e){var t=document.getElementById(e.id),n=null===t||void 0===t?void 0:t.parentElement.parentElement.parentElement;console.log(n);var a=null===n||void 0===n?void 0:n.getBoundingClientRect().left;return(null===t||void 0===t?void 0:t.getBoundingClientRect().left)+12-a},O=function(){var e=null===r||void 0===r?void 0:r.produce.map((function(e,n){return o.a.createElement("line",{key:n,className:"linea",x1:"50%",y1:"0",x2:N(e),y2:"50",style:{stroke:t.colores[null===e||void 0===e?void 0:e.due\u00f1oActual]}})}));b(e)},C=function(){var e=t.grupo.map((function(e,n){return o.a.createElement("line",{key:n,className:"linea",x1:N(e),y1:"0",x2:"50%",y2:"50",style:{stroke:t.colores[null===r||void 0===r?void 0:r.actor]}})}));j(e)},h=function(){t.handleactualizar({}),O(),C()};return Object(a.useEffect)((function(){var e=t.actividades.find((function(e){return e.id===t.grupo[0].consumidoPor})),n={};for(var a in null===e||void 0===e?void 0:e.produce){var o=null===e||void 0===e?void 0:e.produce[a],l=o.consumidoPor||o.id;n[l]?n[l].push(o):n[l]=[o]}v(Object.values(n)),i(e)}),[]),Object(a.useEffect)((function(){t.handleactualizar({}),O(),C()}),[d]),o.a.createElement("div",{className:"contenedorGrupo"},t.grupo.map((function(e){var n,a;return o.a.createElement("div",{className:"contenedorTru"},o.a.createElement("div",{className:"tru",id:e.id,style:{backgroundColor:t.coloresClaros[(null===e||void 0===e||null===(n=e.transacciones[0])||void 0===n?void 0:n.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)],borderColor:t.colores[(null===e||void 0===e||null===(a=e.transacciones[0])||void 0===a?void 0:a.fuente)||(null===e||void 0===e?void 0:e.due\u00f1oActual)]}}),null===e||void 0===e?void 0:e.transacciones.map((function(e,n){return o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{className:"lineasCortas"},o.a.createElement("line",{key:n,className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:t.colores[e.fuente]}})),o.a.createElement("div",{className:"transaccion"}))})))})),r&&o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{className:"lineas"},y),o.a.createElement("div",{id:r.id,className:"actividad",style:{backgroundColor:t.coloresClaros[null===r||void 0===r?void 0:r.actor],borderColor:t.colores[null===r||void 0===r?void 0:r.actor]}},r.tipo),o.a.createElement("svg",{className:"lineas"},E)),o.a.createElement("div",{className:"contenedorGrupos"},d.map((function(n){return o.a.createElement(e,{grupo:n,handleactualizar:h,actividades:t.actividades,colores:t.colores,coloresClaros:t.coloresClaros})}))))};var u=function(){var e,t,n,l,r=Object(a.useState)(void 0),u=Object(c.a)(r,2),s=u[0],d=u[1],v=Object(a.useState)([]),m=Object(c.a)(v,2),f=m[0],E=m[1],b=Object(a.useState)([]),p=Object(c.a)(b,2),g=p[0],y=p[1],j=Object(a.useState)(o.a.createElement("div",null)),N=Object(c.a)(j,2),O=N[0],C=N[1],h=Object(a.useState)(!1),k=Object(c.a)(h,2),x=k[0],w=(k[1],{Propilco:"rgb(12, 124, 186)",Cartoflex:"rgb(122, 182, 72)",Transportador:"rgb(128, 0, 255)",Canvan:"rgb(255, 128, 0)"}),S={Propilco:"rgb(12, 124, 186, 0.2)",Cartoflex:"rgb(122, 182, 72, 0.2)",Transportador:"rgb(128, 0, 255, 0.2)",Canvan:"rgb(255, 128, 0, 0.2)"},B=function(e){var t;return(null===(t=document.getElementById(e.id))||void 0===t?void 0:t.getBoundingClientRect().left)+12},A=function(){var e,t=null===(e=f[0])||void 0===e?void 0:e.produce.map((function(e,t){var n;return o.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:B(e),y2:"50",style:{stroke:w[null===(n=f[0])||void 0===n?void 0:n.actor]}})}));C(t)},z=function(){A()},P=function(){A()};return Object(a.useEffect)((function(){window.addEventListener("resize",z)})),Object(a.useEffect)((function(){fetch("/v1/api/trus/id/efa91e20-7413-11ea-9fdf-2174e1b0eb66-0/destino").then((function(e){e.json().then((function(e){e.actividades.reverse();var t={};for(var n in null===(a=e.actividades[0])||void 0===a?void 0:a.produce){var a,o,l=null===(o=e.actividades[0])||void 0===o?void 0:o.produce[n],r=l.consumidoPor||l.id;t[r]?t[r].push(l):t[r]=[l]}E(e.actividades),d(e.tru),y(Object.values(t))}))}))}),[]),o.a.createElement("div",null,o.a.createElement("div",{className:"contenedorBuscado"},o.a.createElement("div",{className:"buscado",style:{backgroundColor:S[null===s||void 0===s?void 0:s.due\u00f1oActual],borderColor:w[null===s||void 0===s?void 0:s.due\u00f1oActual]}})),o.a.createElement("svg",{className:"lineas"},o.a.createElement("line",{className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:w[null===s||void 0===s?void 0:s.due\u00f1oActual]}})),null===s||void 0===s?void 0:s.transacciones.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"transaccionBase"}),o.a.createElement("svg",{className:"lineasCortas"},o.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:w[e.destino]}})))})),o.a.createElement("div",{className:"firstActivity",id:null===(e=f[0])||void 0===e?void 0:e.id,style:{backgroundColor:S[null===(t=f[0])||void 0===t?void 0:t.actor],borderColor:w[null===(n=f[0])||void 0===n?void 0:n.actor]}},null===(l=f[0])||void 0===l?void 0:l.tipo),o.a.createElement("svg",{className:"lineas"},O),o.a.createElement("div",{className:"contenedorGrupos"},o.a.createElement("div",{className:"contenedorPrimerGrupo"},g.map((function(e){return o.a.createElement(i,{grupo:e,actualizar:x,handleactualizar:P,actividades:f,colores:w,coloresClaros:S})})))))};n(17),n(18),n(19),n(20),n(21);n(22);var s=function(){return o.a.createElement(u,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.d4984d93.chunk.js.map