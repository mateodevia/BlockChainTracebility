(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(3),l=a.n(r),c=(a(9),a(10),a(1));a(11),a(12),a(13),a(14),a(15),a(16);var i=function e(t){var a=Object(n.useState)(void 0),r=Object(c.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)([]),d=Object(c.a)(s,2),u=d[0],v=d[1],m=Object(n.useState)(o.a.createElement("div",null)),f=Object(c.a)(m,2),E=f[0],b=f[1],p=Object(n.useState)(o.a.createElement("div",null)),g=Object(c.a)(p,2),y=g[0],j=g[1],N=function(e){var t=document.getElementById(e.id),a=null===t||void 0===t?void 0:t.parentElement.parentElement.parentElement;console.log(a);var n=a.getBoundingClientRect().left;return(null===t||void 0===t?void 0:t.getBoundingClientRect().left)+12-n},O=function(){var e=null===l||void 0===l?void 0:l.produce.map((function(e,a){return o.a.createElement("line",{key:a,className:"linea",x1:"50%",y1:"0",x2:N(e),y2:"50",style:{stroke:t.colores[null===e||void 0===e?void 0:e.due\u00f1oActual]}})}));b(e)},C=function(){var e=t.grupo.map((function(e,a){return o.a.createElement("line",{key:a,className:"linea",x1:N(e),y1:"0",x2:"50%",y2:"50",style:{stroke:t.colores[null===l||void 0===l?void 0:l.actor]}})}));j(e)},h=function(){t.handleactualizar({}),O(),C()};return Object(n.useEffect)((function(){var e=t.actividades.find((function(e){return e.id===t.grupo[0].consumidoPor})),a={};for(var n in null===e||void 0===e?void 0:e.produce){var o=null===e||void 0===e?void 0:e.produce[n],r=o.consumidoPor||o.id;a[r]?a[r].push(o):a[r]=[o]}v(Object.values(a)),i(e)}),[]),Object(n.useEffect)((function(){t.handleactualizar({}),O(),C()}),[u]),o.a.createElement("div",{className:"contenedorGrupo"},t.grupo.map((function(e){return o.a.createElement("div",{className:"contenedorTru"},o.a.createElement("div",{className:"tru",id:e.id,style:{backgroundColor:t.coloresClaros[null===e||void 0===e?void 0:e.due\u00f1oActual],borderColor:t.colores[null===e||void 0===e?void 0:e.due\u00f1oActual]}}),null===e||void 0===e?void 0:e.transacciones.map((function(e,a){return o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{className:"lineasCortas"},o.a.createElement("line",{key:a,className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:t.colores[e.fuente]}})),o.a.createElement("div",{className:"transaccion"}))})))})),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{className:"lineas"},y),o.a.createElement("div",{id:l.id,className:"actividad",style:{backgroundColor:t.coloresClaros[null===l||void 0===l?void 0:l.actor],borderColor:t.colores[null===l||void 0===l?void 0:l.actor]}},l.tipo),o.a.createElement("svg",{className:"lineas"},E)),o.a.createElement("div",{className:"contenedorGrupos"},u.map((function(a){return o.a.createElement(e,{grupo:a,handleactualizar:h,actividades:t.actividades,colores:t.colores,coloresClaros:t.coloresClaros})}))))};var s=function(){var e,t,a,r,l=Object(n.useState)(void 0),s=Object(c.a)(l,2),d=s[0],u=s[1],v=Object(n.useState)([]),m=Object(c.a)(v,2),f=m[0],E=m[1],b=Object(n.useState)([]),p=Object(c.a)(b,2),g=p[0],y=p[1],j=Object(n.useState)(o.a.createElement("div",null)),N=Object(c.a)(j,2),O=N[0],C=N[1],h=Object(n.useState)(!1),k=Object(c.a)(h,2),x=k[0],w=(k[1],{Propilco:"rgb(12, 124, 186)",Cartoflex:"rgb(122, 182, 72)",Transportador:"rgb(128, 0, 255)",Canvan:"rgb(255, 128, 0)"}),S={Propilco:"rgb(12, 124, 186, 0.2)",Cartoflex:"rgb(122, 182, 72, 0.2)",Transportador:"rgb(128, 0, 255, 0.2)",Canvan:"rgb(255, 128, 0, 0.2)"},B=function(e){var t;return(null===(t=document.getElementById(e.id))||void 0===t?void 0:t.getBoundingClientRect().left)+12},A=function(){var e,t=null===(e=f[0])||void 0===e?void 0:e.produce.map((function(e,t){var a;return o.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:B(e),y2:"50",style:{stroke:w[null===(a=f[0])||void 0===a?void 0:a.actor]}})}));C(t)},z=function(){A()},P=function(){A()};return Object(n.useEffect)((function(){window.addEventListener("resize",z)})),Object(n.useEffect)((function(){fetch("/v1/api/trus/id/efa91e20-7413-11ea-9fdf-2174e1b0eb66-0/destino").then((function(e){e.json().then((function(e){e.actividades.reverse();var t={};for(var a in null===(n=e.actividades[0])||void 0===n?void 0:n.produce){var n,o,r=null===(o=e.actividades[0])||void 0===o?void 0:o.produce[a],l=r.consumidoPor||r.id;t[l]?t[l].push(r):t[l]=[r]}E(e.actividades),u(e.tru),y(Object.values(t))}))}))}),[]),o.a.createElement("div",null,o.a.createElement("div",{className:"contenedorBuscado"},o.a.createElement("div",{className:"buscado",style:{backgroundColor:S[null===d||void 0===d?void 0:d.due\u00f1oActual],borderColor:w[null===d||void 0===d?void 0:d.due\u00f1oActual]}})),o.a.createElement("svg",{className:"lineas"},o.a.createElement("line",{className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:w[null===d||void 0===d?void 0:d.due\u00f1oActual]}})),null===d||void 0===d?void 0:d.transacciones.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"transaccionBase"}),o.a.createElement("svg",{className:"lineasCortas"},o.a.createElement("line",{key:t,className:"linea",x1:"50%",y1:"0",x2:"50%",y2:"50",style:{stroke:w[e.destino]}})))})),o.a.createElement("div",{className:"firstActivity",id:null===(e=f[0])||void 0===e?void 0:e.id,style:{backgroundColor:S[null===(t=f[0])||void 0===t?void 0:t.actor],borderColor:w[null===(a=f[0])||void 0===a?void 0:a.actor]}},null===(r=f[0])||void 0===r?void 0:r.tipo),o.a.createElement("svg",{className:"lineas"},O),o.a.createElement("div",{className:"contenedorGrupos"},o.a.createElement("div",{className:"contenedorPrimerGrupo"},g.map((function(e){return o.a.createElement(i,{grupo:e,actualizar:x,handleactualizar:P,actividades:f,colores:w,coloresClaros:S})})))))};var d=function(){return o.a.createElement(s,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.30a8bbc8.chunk.js.map